package Medium;

public class ValidateIPAddress {
    public String validIPAddress(String IP) {
        boolean IP4 = false;
        boolean IP6 = false;
        int g4 = 0;
        int g6 = 0;
        String fst = "";
        if (IP.length() == 0 || IP.charAt(0) == ':' || IP.charAt(0) == '.' || IP.charAt(IP.length() - 1) == ':' || IP.charAt(IP.length() - 1) == '.') {
            return "Neither";
        }
        for (int i = 0; i < IP.length(); i++) {
            if (IP.charAt(i) == '.' || i == IP.length() - 1 && IP4) {
                if (i == IP.length() - 1) {
                    fst += IP.charAt(i);
                }
                if (IP6) {
                    return "Neither";
                }
                if (i + 1 < IP.length() && IP.charAt(i + 1) == '.') {
                    System.out.println("arrive");
                    return "Neither";
                }
                if (fst.length() > 1 && fst.charAt(0) == '0') {
                    System.out.println("kick");
                    return "Neither";
                }
                for (int k = 0; k < fst.length(); k++) {
                    if (fst.charAt(k) < 48 || fst.charAt(k) > 57) {
                        return "Neither";
                    }
                }

                if (Integer.parseInt(fst) > 255) {
                    return "Neither";
                }
                fst = "";
                IP4 = true;
                g4++;
            } else if (IP.charAt(i) == ':' || i == IP.length() - 1 && IP6) {
                if (i == IP.length() - 1) {
                    fst += IP.charAt(i);
                }
                if (IP4) {
                    return "Neither";
                }
                if (i + 1 < IP.length() && IP.charAt(i + 1) == ':') {
                    return "Neither";
                }
//                int zeros = 0;
//                boolean arrive = false;
//                for (int k = 0; k < fst.length(); k++) {
//                    if (fst.charAt(k) != '0') {
//                        arrive = true;
//                    } else if (!arrive) {
//                        zeros++;
//                    }
//                }
//                if (zeros > 1) {
//                    return "Neither";
//                }
                for (char m : fst.toCharArray()) {
                    if (m >= 48 && m <= 57 || m >= 65 && m <= 70 || m >= 97 && m <= 102) {
                        continue;
                    }
                    return "Neither";
                }
                if (fst.length() > 4) {
                    return "Neither";
                }
                fst = "";
                IP6 = true;
                g6++;
            } else {
                fst += IP.charAt(i);
            }
        }
        if (IP4) {
            if (g4 != 4) {
                return "Neither";
            }
            return "IPv4";
        } else if (IP6) {
            if (g6 != 8) {
                return "Neither";
            }
            return "IPv6";
        } else {
            return "Neither";
        }
    }

    public static void main(String[] args) {
        ValidateIPAddress a = new ValidateIPAddress();
        System.out.println(a.validIPAddress("1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"));
    }
}
